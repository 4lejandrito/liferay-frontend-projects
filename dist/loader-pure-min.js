!function(){var global={};global.__CONFIG__=window.__CONFIG__,function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.EventEmitter=n}("undefined"!=typeof global?global:this,function(e){"use strict";function t(){this._events={}}return t.prototype={constructor:t,on:function(e,t){var n=this._events[e]=this._events[e]||[];n.push(t)},off:function(e,t){var n=this._events[e];if(n){var i=n.indexOf(t);i>-1&&n.splice(i,1)}},emit:function(e,t){var n=this._events[e];if(n){n=n.slice(0);for(var i=0;i<n.length;i++){var o=n[i];o.call(o,t)}}}},t}),function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.ConfigParser=n}("undefined"!=typeof global?global:this,function(e){"use strict";function t(e){this._config={},this._modules={},this._conditionalModules={},this._parseConfig(e)}return t.prototype={constructor:t,addModule:function(e){var t=this._modules[e.name];if(t)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);else this._modules[e.name]=e;return this._registerConditionalModule(e),this._modules[e.name]},getConfig:function(){return this._config},getConditionalModules:function(){return this._conditionalModules},getModules:function(){return this._modules},mapModule:function(e){var t;t=Array.isArray(e)?e:[e];for(var n=0;n<t.length;n++){var i=t[n];for(var o in this._config.maps)if(Object.prototype.hasOwnProperty.call(this._config.maps,o)&&(i===o||0===i.indexOf(o+"/"))){i=this._config.maps[o]+i.substring(o.length),t[n]=i;break}}return Array.isArray(e)?t:t[0]},_parseConfig:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&("modules"===t?this._parseModules(e[t]):this._config[t]=e[t]);return this._config},_parseModules:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];n.name=t,this.addModule(n)}return this._modules},_registerConditionalModule:function(e){if(e.condition){var t=this._conditionalModules[e.condition.trigger];t||(this._conditionalModules[e.condition.trigger]=t=[]),t.push(e.name)}}},t}),function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.DependencyBuilder=n}("undefined"!=typeof global?global:this,function(global){"use strict";function DependencyBuilder(e){this._configParser=e,this._pathResolver=new global.PathResolver,this._result=[]}var hasOwnProperty=Object.prototype.hasOwnProperty;return DependencyBuilder.prototype={constructor:DependencyBuilder,resolveDependencies:function(e){this._queue=e.slice(0);var t;try{this._resolveDependencies(),t=this._result.reverse().slice(0)}finally{this._cleanup()}return t},_cleanup:function(){var e=this._configParser.getModules();for(var t in e)if(hasOwnProperty.call(e,t)){var n=e[t];n.conditionalMark=!1,n.mark=!1,n.tmpMark=!1}this._queue.length=0,this._result.length=0},_processConditionalModules:function(e){var t=this._configParser.getConditionalModules()[e.name];if(t&&!e.conditionalMark){for(var n=this._configParser.getModules(),i=0;i<t.length;i++){var o=n[t[i]];-1===this._queue.indexOf(o.name)&&this._testConditionalModule(o.condition.test)&&this._queue.push(o.name)}e.conditionalMark=!0}},_resolveDependencies:function(){for(var e=this._configParser.getModules(),t=0;t<this._queue.length;t++){var n=e[this._queue[t]];n||(n=this._configParser.addModule({name:this._queue[t],dependencies:[]})),n.mark||this._visit(n)}},_testConditionalModule:function(testFunction){return"function"==typeof testFunction?testFunction():eval("false || "+testFunction)()},_visit:function(e){if(e.tmpMark)throw new Error("Error processing module: "+e.name+". The provided configuration is not Directed Acyclic Graph.");if(this._processConditionalModules(e),!e.mark){e.tmpMark=!0;for(var t=this._configParser.getModules(),n=0;n<e.dependencies.length;n++){var i=e.dependencies[n];if("exports"!==i&&"module"!==i){i=this._pathResolver.resolvePath(e.name,i);var o=this._configParser.mapModule(i),r=t[o];r||(r=this._configParser.addModule({name:o,dependencies:[]})),this._visit(r)}}e.mark=!0,e.tmpMark=!1,this._result.unshift(e.name)}},_queue:[]},DependencyBuilder}),function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.URLBuilder=n}("undefined"!=typeof global?global:this,function(e){"use strict";function t(e){this._configParser=e}var n=/^https?:\/\/|\/\/|www\./;return t.prototype={constructor:t,build:function(e){var t=[],i=[],o=[],r=this._configParser.getConfig(),s=r.basePath,u=this._configParser.getModules();"/"!==s.charAt(s.length-1)&&(s+="/");for(var a=0;a<e.length;a++){var l=u[e[a]];if(l.fullPath)o.push(l.fullPath);else{var d=this._getModulePath(l),c=0===d.indexOf("/");n.test(d)?o.push(d):r.combine?c?t.push(d):i.push(d):o.push(r.url+(c?"":s)+d)}l.requested=!0}return i.length&&(o.push(r.url+s+i.join("&"+s)),i.length=0),t.length&&(o.push(r.url+t.join("&")),t.length=0),o},_getModulePath:function(e){var t=e.path||e.name,i=this._configParser.getConfig().paths;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t===o||0===t.indexOf(o+"/"))&&(t=i[o]+t.substring(o.length));return n.test(t)||t.indexOf(".js")===t.length-3||(t+=".js"),t}},t}),function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.PathResolver=n}("undefined"!=typeof global?global:this,function(e){"use strict";function t(){}return t.prototype={constructor:t,resolvePath:function(e,t){if("exports"===t||"module"===t||0!==t.indexOf(".")&&0!==t.indexOf(".."))return t;var n=e.split("/");n.splice(-1,1);for(var i=t.split("/"),o=i.splice(-1,1),r=0;r<i.length;r++){var s=i[r];if("."!==s)if(".."===s){if(!n.length){n=n.concat(i.slice(r));break}n.splice(-1,1)}else n.push(s)}return n.push(o),n.join("/")}},t}),function(e,t){"use strict";var n=t(e);"object"==typeof module&&module&&(module.exports=n),"function"==typeof define&&define.amd&&define(t),e.Loader=new n,e.require=e.Loader.require.bind(e.Loader),e.define=e.Loader.define.bind(e.Loader)}("undefined"!=typeof global?global:this,function(e){"use strict";function t(n){t.superclass.constructor.apply(this,arguments),this._config=n||e.__CONFIG__,this._modulesMap={}}t.prototype=Object.create(e.EventEmitter.prototype),t.prototype.constructor=t,t.superclass=e.EventEmitter.prototype;var n={define:function(e,t,n,i){var o=i||{},r=this._getConfigParser(),s=this._getPathResolver();t=t.map(function(t){return s.resolvePath(e,t)}),o.name=e,o.dependencies=t,o.pendingImplementation=n,r.addModule(o),this._modulesMap[o.name]||(this._modulesMap[o.name]=!0),this.emit("moduleRegister",e)},getConditionalModules:function(){return this._getConfigParser().getConditionalModules()},getModules:function(){return this._getConfigParser().getModules()},require:function(){var e,t,n,i,o=this,r=Array.isArray?Array.isArray(arguments[0]):"[object Array]"===Object.prototype.toString.call(arguments[0]);if(r)n=arguments[0],i="function"==typeof arguments[1]?arguments[1]:null,e="function"==typeof arguments[2]?arguments[2]:null;else for(n=[],t=0;t<arguments.length;++t)if("string"==typeof arguments[t])n[t]=arguments[t];else if("function"==typeof arguments[t]){i=arguments[t],e="function"==typeof arguments[++t]?arguments[t]:null;break}var s,u,a=o._getConfigParser(),l=a.mapModule(n),d=a.getConfig();0!==d.waitTimeout&&(u=setTimeout(function(){o._raiseRequireFailure(n,l,s,e.bind(e))},d.waitTimeout||7e3)),o._resolveDependencies(l).then(function(e){return s=e,o._loadModules(e)}).then(function(e){if(clearTimeout(u),i){var t=o._getModuleImplementations(l);i.apply(i,t)}},function(t){clearTimeout(u),e&&e.call(e,t)})},_createModulePromise:function(e){var t=this;return new Promise(function(n,i){var o=function(i){i===e&&(t.off("moduleRegister",o),t._modulesMap[e]=!0,n(e))};t.on("moduleRegister",o)})},_getConfigParser:function(){return this._configParser||(this._configParser=new e.ConfigParser(this._config)),this._configParser},_getDependencyBuilder:function(){return this._dependencyBuilder||(this._dependencyBuilder=new e.DependencyBuilder(this._getConfigParser())),this._dependencyBuilder},_getMissingDepenencies:function(e){for(var t=this._getConfigParser().getModules(),n=Object.create(null),i=0;i<e.length;i++)for(var o=t[e[i]],r=0;r<o.dependencies.length;r++){var s=o.dependencies[r],u=t[s];"exports"===s||"module"===s||u&&u.pendingImplementation||(n[s]=1)}return Object.keys(n)},_getModuleImplementations:function(e){for(var t=[],n=this._getConfigParser().getModules(),i=0;i<e.length;i++){var o=n[e[i]];t.push(o?o.implementation:void 0)}return t},_getPathResolver:function(){return this._pathResolver||(this._pathResolver=new e.PathResolver),this._pathResolver},_getURLBuilder:function(){return this._urlBuilder||(this._urlBuilder=new e.URLBuilder(this._getConfigParser())),this._urlBuilder},_filterNotRequestedModules:function(e){for(var t=[],n=this._getConfigParser().getModules(),i=0;i<e.length;i++){var o=n[e[i]];"exports"===o||"module"===o||o&&o.requested||t.push(e[i])}return t},_loadModules:function(e){var t=this;return new Promise(function(n,i){var o=t._filterNotRequestedModules(e);if(o.length){for(var r=t._getURLBuilder().build(o),s=[],u=0;u<r.length;u++)s.push(t._loadScript(r[u]));Promise.all(s).then(function(n){return t._waitForModules(e)}).then(function(e){n(e)})["catch"](function(e){i(e)})}else t._waitForModules(e).then(function(e){n(e)})["catch"](function(e){i(e)})})},_loadScript:function(e){return new Promise(function(t,n){var i=document.createElement("script");i.src=e,i.onload=i.onreadystatechange=function(){this.readyState&&"complete"!==this.readyState&&"load"!==this.readyState||(i.onload=i.onreadystatechange=null,t(i))},i.onerror=function(){document.body.removeChild(i),n(i)},document.body.appendChild(i)})},_raiseRequireFailure:function(e,t,n,i){var o=this._getConfigParser().getModules(),r={mappedModules:t,missingDependencies:n.filter(function(e){return!o[e].implementation}),modules:e,resolvedDependecies:n};i&&i(r)},_resolveDependencies:function(e){var t=this;return new Promise(function(n,i){try{var o=t._getDependencyBuilder().resolveDependencies(e);n(o)}catch(r){i(r)}})},_setModuleImplementation:function(e){for(var t=this._getConfigParser().getModules(),n=0;n<e.length;n++){var i=e[n];if(!i.implementation){for(var o,r=[],s=this._getConfigParser(),u=0;u<i.dependencies.length;u++){var a=i.dependencies[u];if("exports"===a)o={},r.push(o);else if("module"===a)o={exports:{}},r.push(o);else{var l=t[s.mapModule(a)],d=l.implementation;r.push(d)}}var c=i.pendingImplementation.apply(i.pendingImplementation,r);c?i.implementation=c:o&&(i.implementation=o.exports||o)}}},_waitForModule:function(e){var t=this,n=t._modulesMap[e];return n||(n=t._createModulePromise(e),t._modulesMap[e]=n),n},_waitForModules:function(e){var t=this;return new Promise(function(n,i){for(var o=[],r=0;r<e.length;r++)o.push(t._waitForModule(e[r]));Promise.all(o).then(function(o){var r=t._getConfigParser().getModules(),s=function(){for(var i=[],o=0;o<e.length;o++)i.push(r[e[o]]);t._setModuleImplementation(i),n(i)},u=t._getMissingDepenencies(e);u.length?t.require(u,s,i):s()})})}};return Object.keys(n).forEach(function(e){t.prototype[e]=n[e]}),t}),window.Loader=global.Loader,window.require=global.require,window.define=global.define}();