<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Senna Transitions</title>
  <link rel="stylesheet" href="../../build/senna.css">
  <script src="../../build/senna.js"></script>
</head>
<body class="senna-transition-fade">
  <a href="index.html">BrazilJS</a> &ndash; <a href="tajmahal.html">The Taj Mahal</a> &ndash; <a href="buca.html">Buca</a>
  <div id="content">
    <div id="content-default">
      <img src="../email/img/dudu.jpg" alt="">
    </div>
  </div>
  <script>
  'use strict';

  function ImageLoaderScreen() {
    ImageLoaderScreen.base(this, 'constructor');
  }
  senna.inherits(ImageLoaderScreen, senna.Screen);
  ImageLoaderScreen.prototype.cached = true;
  ImageLoaderScreen.prototype.getSurfaceContent = function(surfaceId) {
    switch(nextImage + ' ' + surfaceId) {
      case '/examples/transition/index.html content': return '<img src="../email/img/dudu.jpg" alt="">';
      case '/examples/transition/tajmahal.html content': return '<img src="../email/img/jamal.jpg" alt="">';
      case '/examples/transition/buca.html content': return '<img src="../email/img/henvic.jpg" alt="">';
    }
  };

  var app = new senna.App();
  app.setBasePath('/examples/transition');
  app.addSurfaces('content');
  app.addRoutes(new senna.Route(/\w+\.html/, ImageLoaderScreen));

  var nextImage;
  app.on('startNavigate', function(event) {
    nextImage = event.path;
  });
  </script>
</body>
</html>
